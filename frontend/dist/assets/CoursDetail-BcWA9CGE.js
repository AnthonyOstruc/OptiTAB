import{a as _,c as r,M as C,A as D,G as x,f as B,z as b,y as L,o as a,d as o,h as f,b as n,g as h,t as c,n as M}from"./vendor-C_Y2k9EH.js";import{D as V}from"./DashboardLayout-BeVgDFuc.js";import{B as w}from"./BackButton-DQBQyud6.js";import{_ as A,L as N}from"./index-BlHH9nqM.js";import{g as R}from"./cours-B70EkRt8.js";import{a as T,r as S}from"./scientificRenderer-SJJ6pUZd.js";import"./menuItems-2RBwQC8O.js";import"./matieres-BMK_pEFL.js";import"./ui-jaH5oyHW.js";import"./pdf-B39ievqC.js";import"./mathlive-B5k0jhbN.js";const z={class:"cours-detail-section"},E={key:0,class:"loading-container"},F={key:1,class:"cours-container"},H={class:"cours-header"},G={class:"cours-title"},W={class:"cours-meta"},j={class:"cours-date"},q={key:0,class:"cours-description"},J=["innerHTML"],K={key:0,class:"cours-video"},O={class:"video-container"},P=["src"],Q={key:2,class:"no-cours"},U={__name:"CoursDetail",setup(X){const i=C(),d=L(),e=_(null),u=_(!0),m=r(()=>i.params.coursId),v=r(()=>i.params.matiereId),p=r(()=>i.params.notionId),l=r(()=>i.params.chapitreId),y=r(()=>{if(!e.value?.contenu)return"";const t=e.value.images||[];return T(e.value.contenu,t)});function g(){l.value?d.push({name:"Cours",params:{matiereId:v.value,notionId:p.value,chapitreId:l.value}}):d.back()}function I(t){return{easy:"Facile",medium:"Moyen",hard:"Difficile"}[t]||t}function k(t){return new Date(t).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})}return D(async()=>{try{u.value=!0;const{data:t}=await R(v.value,p.value,l.value);Array.isArray(t)?e.value=t.find(s=>s.id==m.value):(t&&t.id==m.value||t)&&(e.value=t),x(()=>{S()})}catch{e.value=null}finally{u.value=!1}}),(t,s)=>(a(),B(V,null,{default:b(()=>[o("section",z,[f(w,{text:"Retour aux cours",customAction:g,position:"top-left"}),u.value?(a(),n("div",E,[f(N)])):e.value?(a(),n("div",F,[o("header",H,[o("h1",G,c(e.value.titre),1),o("div",W,[o("span",{class:M(["cours-difficulty",e.value.difficulty])},c(I(e.value.difficulty)),3),o("span",j,c(k(e.value.date_creation)),1)]),e.value.description?(a(),n("p",q,c(e.value.description),1)):h("",!0)]),o("div",{class:"cours-content",innerHTML:y.value},null,8,J),e.value.video_url?(a(),n("div",K,[s[0]||(s[0]=o("h3",null,"Vidéo explicative",-1)),o("div",O,[o("iframe",{src:e.value.video_url,title:"Vidéo du cours",frameborder:"0",allowfullscreen:""},null,8,P)])])):h("",!0)])):(a(),n("div",Q,s[1]||(s[1]=[o("p",null,"Cours non trouvé.",-1)])))])]),_:1}))}},ce=A(U,[["__scopeId","data-v-924e9e3f"]]);export{ce as default};
