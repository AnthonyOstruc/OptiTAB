import{_ as k,h as f,m as r,M as D,p as B,B as x,f as b,w as M,C as L,o as a,a as s,i as p,c as n,Y as w,b as h,t as i,j as V}from"./index-C20tTf3S.js";import{D as N}from"./DashboardLayout-DmmXvv68.js";import{B as R}from"./BackButton-B9UoO6zr.js";import{a as T,g as A,r as S}from"./scientificRenderer-B92-CC0S.js";import"./menuItems-zei-A9he.js";import"./matieres-Ce1WeeoH.js";const E={class:"cours-detail-section"},F={key:0,class:"loading-container"},H={key:1,class:"cours-container"},j={class:"cours-header"},z={class:"cours-title"},W={class:"cours-meta"},Y={class:"cours-date"},q={key:0,class:"cours-description"},G=["innerHTML"],J={key:0,class:"cours-video"},K={class:"video-container"},O=["src"],P={key:2,class:"no-cours"},Q={__name:"CoursDetail",setup(U){const c=D(),d=L(),t=f(null),u=f(!0),v=r(()=>c.params.coursId),m=r(()=>c.params.matiereId),_=r(()=>c.params.notionId),l=r(()=>c.params.chapitreId),y=r(()=>{if(!t.value?.contenu)return"";const e=t.value.images||[];return T(t.value.contenu,e)});function g(){l.value?d.push({name:"Cours",params:{matiereId:m.value,notionId:_.value,chapitreId:l.value}}):d.back()}function C(e){return{easy:"Facile",medium:"Moyen",hard:"Difficile"}[e]||e}function I(e){return new Date(e).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})}return B(async()=>{try{u.value=!0;const{data:e}=await A(m.value,_.value,l.value);Array.isArray(e)?t.value=e.find(o=>o.id==v.value):(e&&e.id==v.value||e)&&(t.value=e),x(()=>{S()})}catch(e){console.error("Erreur lors du chargement du cours:",e),t.value=null}finally{u.value=!1}}),(e,o)=>(a(),b(N,null,{default:M(()=>[s("section",E,[p(R,{text:"Retour aux cours",customAction:g,position:"top-left"}),u.value?(a(),n("div",F,[p(w)])):t.value?(a(),n("div",H,[s("header",j,[s("h1",z,i(t.value.titre),1),s("div",W,[s("span",{class:V(["cours-difficulty",t.value.difficulty])},i(C(t.value.difficulty)),3),s("span",Y,i(I(t.value.date_creation)),1)]),t.value.description?(a(),n("p",q,i(t.value.description),1)):h("",!0)]),s("div",{class:"cours-content",innerHTML:y.value},null,8,G),t.value.video_url?(a(),n("div",J,[o[0]||(o[0]=s("h3",null,"Vidéo explicative",-1)),s("div",K,[s("iframe",{src:t.value.video_url,title:"Vidéo du cours",frameborder:"0",allowfullscreen:""},null,8,O)])])):h("",!0)])):(a(),n("div",P,o[1]||(o[1]=[s("p",null,"Cours non trouvé.",-1)])))])]),_:1}))}},oe=k(Q,[["__scopeId","data-v-924e9e3f"]]);export{oe as default};
