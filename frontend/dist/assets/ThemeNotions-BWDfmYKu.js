import{c as T,M as D,a,B as M,f as w,A as y,y as S,o as n,d as e,h as _,t as C,m as L,b as l,g as j,D as I,F as E,p as R}from"./vendor-D171CWhe.js";import{D as $}from"./DashboardLayout-B5CnNSIn.js";import{_ as z,d as A}from"./index-Bvm2JEkS.js";import{f as V,g as Z}from"./curriculum-Ch8J6CLY.js";import{N as F}from"./NotionCard-CzoUDQ6W.js";import{B as G}from"./BackButton-CfvpP0Hf.js";import"./menuItems-D4F2gOe0.js";import"./matieres-UO5rRmLj.js";import"./ui-jaH5oyHW.js";import"./pdf-B39ievqC.js";import"./mathlive-B5k0jhbN.js";/* empty css                                                                   */const q={class:"theme-notions-section"},H={class:"theme-notions-header"},J={class:"theme-notions-header-content"},K={class:"theme-notions-title"},O={class:"theme-notions-content"},P={key:0,class:"theme-notions-loader"},Q={key:1,class:"theme-notions-error"},U={key:2,class:"notions-grid"},W={key:3,class:"notions-empty"},X={__name:"ThemeNotions",setup(Y){const N=D(),d=S(),b=A(),h=T(()=>N.params.themeId),c=a([]),p=a(""),v=a("#3b82f6"),u=a(!0),i=a("");function x(){const t=b.activeMatiereId;t?d.push({name:"Themes",params:{matiereId:t}}):d.push({name:"Dashboard"})}const g=async t=>{if(t){u.value=!0,i.value="";try{const o=await V(t);p.value=o.nom,v.value=o.couleur||"#3b82f6";const s=await Z();c.value=s.filter(r=>r.theme===parseInt(t)).sort((r,m)=>{const k=Number(r?.ordre??0),f=Number(m?.ordre??0);return k!==f?k-f:String(r?.nom||"").localeCompare(String(m?.nom||""))})}catch(o){i.value=o.response?.data?.detail||"Erreur lors du chargement des notions"}finally{u.value=!1}}};function B(t){d.push({name:"Chapitres",params:{notionId:t}})}return M(()=>{const t=h.value;t&&g(t)}),(t,o)=>(n(),w($,null,{default:y(()=>[e("section",q,[_(G,{text:"Retour aux thèmes",customAction:x,position:"top-left"}),e("div",H,[e("div",J,[e("h1",K,C(p.value),1),o[1]||(o[1]=e("p",{class:"theme-notions-subtitle"},"Sélectionnez une notion pour accéder aux chapitres",-1))]),e("div",{class:"theme-notions-header-icon",style:L({backgroundColor:v.value})},o[2]||(o[2]=[e("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M12 2L2 7L12 12L22 7L12 2Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),e("path",{d:"M2 17L12 22L22 17",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),e("path",{d:"M2 12L12 17L22 12",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]),4)]),e("div",O,[u.value?(n(),l("div",P,o[3]||(o[3]=[e("div",{class:"loader-spinner"},null,-1),e("p",null,"Chargement des notions...",-1)]))):i.value?(n(),l("div",Q,[o[4]||(o[4]=e("div",{class:"error-icon"},[e("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M12 2L2 7L12 12L22 7L12 2Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),o[5]||(o[5]=e("h3",null,"Erreur de chargement",-1)),e("p",null,C(i.value),1),e("button",{class:"retry-button",onClick:o[0]||(o[0]=s=>g(h.value))}," Réessayer ")])):(n(),l("div",U,[_(I,{name:"notion-card",tag:"div",class:"notions-grid-inner"},{default:y(()=>[(n(!0),l(E,null,R(c.value,(s,r)=>(n(),w(F,{key:s.id,title:s.nom,description:s.description||`Explorez les chapitres de ${s.nom}`,onClick:m=>B(s.id),style:L({animationDelay:`${r*.1}s`})},null,8,["title","description","onClick","style"]))),128))]),_:1})])),!u.value&&!i.value&&c.value.length===0?(n(),l("div",W,o[6]||(o[6]=[e("div",{class:"empty-icon"},[e("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M12 2L2 7L12 12L22 7L12 2Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1),e("h3",null,"Aucune notion disponible",-1),e("p",null,"Il n'y a pas encore de notions pour ce thème.",-1)]))):j("",!0)])])]),_:1}))}},me=z(X,[["__scopeId","data-v-86a281f0"]]);export{me as default};
