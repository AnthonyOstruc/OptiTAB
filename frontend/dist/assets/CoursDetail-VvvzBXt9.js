import{a as _,c as r,L as k,e as b,B as D,h as B,C as x,A as L,o as a,d as o,j as f,b as n,i as h,t as c,n as M}from"./vendor-1gmgAmFu.js";import{D as V}from"./DashboardLayout-DOJbCPaM.js";import{B as w}from"./BackButton-79xazihh.js";import{_ as A,L as N}from"./index-DdsjLnq7.js";import{g as R}from"./cours-CxVEuYUx.js";import{a as T,r as S}from"./scientificRenderer-SJJ6pUZd.js";import"./menuItems-C0wivC9l.js";import"./matieres-DVwPPJpo.js";import"./ui-jaH5oyHW.js";import"./pdf-B39ievqC.js";import"./mathlive-B5k0jhbN.js";const E={class:"cours-detail-section"},F={key:0,class:"loading-container"},H={key:1,class:"cours-container"},j={class:"cours-header"},z={class:"cours-title"},W={class:"cours-meta"},q={class:"cours-date"},G={key:0,class:"cours-description"},J=["innerHTML"],K={key:0,class:"cours-video"},O={class:"video-container"},P=["src"],Q={key:2,class:"no-cours"},U={__name:"CoursDetail",setup(X){const i=k(),d=L(),e=_(null),u=_(!0),m=r(()=>i.params.coursId),v=r(()=>i.params.matiereId),p=r(()=>i.params.notionId),l=r(()=>i.params.chapitreId),y=r(()=>{if(!e.value?.contenu)return"";const t=e.value.images||[];return T(e.value.contenu,t)});function g(){l.value?d.push({name:"Cours",params:{matiereId:v.value,notionId:p.value,chapitreId:l.value}}):d.back()}function C(t){return{easy:"Facile",medium:"Moyen",hard:"Difficile"}[t]||t}function I(t){return new Date(t).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})}return b(async()=>{try{u.value=!0;const{data:t}=await R(v.value,p.value,l.value);Array.isArray(t)?e.value=t.find(s=>s.id==m.value):(t&&t.id==m.value||t)&&(e.value=t),D(()=>{S()})}catch{e.value=null}finally{u.value=!1}}),(t,s)=>(a(),B(V,null,{default:x(()=>[o("section",E,[f(w,{text:"Retour aux cours",customAction:g,position:"top-left"}),u.value?(a(),n("div",F,[f(N)])):e.value?(a(),n("div",H,[o("header",j,[o("h1",z,c(e.value.titre),1),o("div",W,[o("span",{class:M(["cours-difficulty",e.value.difficulty])},c(C(e.value.difficulty)),3),o("span",q,c(I(e.value.date_creation)),1)]),e.value.description?(a(),n("p",G,c(e.value.description),1)):h("",!0)]),o("div",{class:"cours-content",innerHTML:y.value},null,8,J),e.value.video_url?(a(),n("div",K,[s[0]||(s[0]=o("h3",null,"Vidéo explicative",-1)),o("div",O,[o("iframe",{src:e.value.video_url,title:"Vidéo du cours",frameborder:"0",allowfullscreen:""},null,8,P)])])):h("",!0)])):(a(),n("div",Q,s[1]||(s[1]=[o("p",null,"Cours non trouvé.",-1)])))])]),_:1}))}},ce=A(U,[["__scopeId","data-v-5bbbdb27"]]);export{ce as default};
