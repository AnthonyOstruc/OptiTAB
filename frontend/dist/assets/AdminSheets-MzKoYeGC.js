import{a as b,r as G,c as L,C as J,B as V,b as r,d as e,t as m,w as U,k as S,K as z,L as I,F as D,p as N,n as F,g as x,a1 as K,z as Q,o as l,j as g,f as j,u as X}from"./vendor-D171CWhe.js";import{_ as O}from"./index-D9PhsPPd.js";import{g as ee,d as te,b as se,u as ae,c as oe}from"./synthesis-p5du-iQT.js";import{g as ie}from"./curriculum-DO8U7dOZ.js";import{g as ne}from"./matieres-CmWlupSk.js";import{d as de}from"./ui-jaH5oyHW.js";import"./pdf-B39ievqC.js";import"./mathlive-B5k0jhbN.js";const le={class:"modal-header"},re={class:"modal-body"},ce={class:"form-section"},ve={class:"form-row"},ue={class:"form-group"},pe={class:"form-row"},me={class:"form-group"},he=["value"],fe={class:"form-group"},ge={class:"form-row"},ye={class:"form-group"},be={class:"form-group"},$e={class:"form-section"},xe={class:"tabs-container"},we={class:"tabs-header"},ke={class:"tab-content"},_e={key:0,class:"editor-tab"},Ce={class:"form-group"},Me={key:1,class:"preview-tab"},Te=["innerHTML"],Se={class:"modal-footer"},Ee=["disabled"],Le={__name:"SheetModal",props:{sheet:Object,isEdit:Boolean,notions:Array},emits:["close","save","preview"],setup(p,{emit:C}){const c=p,w=C,$=b(!1),h=b("editor"),M=b(null),n=G({titre:"",notion:"",summary:"",difficulty:"medium",ordre:0,reading_time_minutes:5}),k=t=>{if(!t)return"";const s=t.matiere_nom||t.contexte_detail&&t.contexte_detail.matiere_nom||"",i=t.contexte_detail&&t.contexte_detail.pays?t.contexte_detail.pays.nom:"",A=t.contexte_detail&&t.contexte_detail.niveau?t.contexte_detail.niveau.nom:"",H=t.theme_nom||"";return[t.titre||t.nom,H,s,[i,A].filter(Boolean).join(" - ")].filter(Boolean).join(" ‚Äî ")};L(()=>{if(!n.summary)return`<p class="empty-preview">√âcrivez du contenu pour voir l'aper√ßu...</p>`;try{return _(n.summary)}catch{return'<p class="error-preview">Erreur dans le contenu</p>'}});function _(t){return t?t.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/\\/g,"\\").replace(/^###\s+(.+)$/gm,'<h3 class="markdown-h3">$1</h3>').replace(/^##\s+(.+)$/gm,'<h2 class="markdown-h2">$1</h2>').replace(/^#\s+(.+)$/gm,'<h1 class="markdown-h1">$1</h1>').replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>").replace(/\*([^*]+)\*/g,"<em>$1</em>").replace(/<p[^>]*style="[^"]*color:blue[^"]*"[^>]*>([^<]+)<\/p>/g,'<h2 class="markdown-h2 blue-title">$1</h2>').replace(/<p[^>]*style="[^"]*color:darkorange[^"]*"[^>]*>([^<]+)<\/p>/g,'<h3 class="markdown-h3 orange-title">$1</h3>').replace(/<p[^>]*style="[^"]*color:red[^"]*"[^"]*"[^>]*>([^<]+)<\/p>/g,'<h3 class="markdown-h3 red-title">$1</h3>').replace(/<p[^>]*style="[^"]*color:green[^"]*"[^"]*"[^>]*>([^<]+)<\/p>/g,'<h3 class="markdown-h3 green-title">$1</h3>').replace(/<p[^>]*style="[^"]*color:purple[^"]*"[^"]*"[^>]*>([^<]+)<\/p>/g,'<h3 class="markdown-h3 purple-title">$1</h3>').replace(/\n\n/g,'<br class="double-break"/>').replace(/\n/g,'<br class="single-break"/>').replace(/  /g,"&nbsp;&nbsp;"):""}function f(){Q(()=>{if(window.MathJax&&window.MathJax.typesetPromise)window.MathJax.typesetPromise();else{let s=0;const i=()=>{window.MathJax&&window.MathJax.typesetPromise?window.MathJax.typesetPromise():s++<10&&setTimeout(i,150)};setTimeout(i,100)}})}function P(t){return t?_(t):""}const y=()=>{c.sheet&&Object.assign(n,{titre:c.sheet.titre||"",notion:c.sheet.notion||"",summary:c.sheet.summary||"",difficulty:c.sheet.difficulty||"medium",ordre:c.sheet.ordre||0,reading_time_minutes:c.sheet.reading_time_minutes||5})},q=async()=>{if(!$.value){$.value=!0;try{const t={...n,key_points:[],formulas:[],examples:[]};await w("save",t)}catch{}finally{$.value=!1}}},T=()=>{const t={titre:n.titre,summary:n.summary,key_points:[],formulas:[],examples:[],difficulty:n.difficulty,reading_time_minutes:n.reading_time_minutes};w("preview",t)},E=t=>{t.target===t.currentTarget&&w("close")},v=()=>{},a=()=>{h.value==="preview"&&setTimeout(f,100)};return J(()=>c.sheet,y,{immediate:!0}),V(()=>{y()}),J(h,t=>{t==="preview"&&setTimeout(f,100)}),(t,s)=>(l(),r("div",{class:"modal-overlay",onClick:E},[e("div",{class:"modal-container",onClick:s[11]||(s[11]=U(()=>{},["stop"]))},[e("div",le,[e("h2",null,m(p.isEdit?"Modifier":"Cr√©er")+" une fiche de synth√®se",1),e("button",{class:"close-btn",onClick:s[0]||(s[0]=i=>t.$emit("close"))},"√ó")]),e("div",re,[e("form",{onSubmit:U(q,["prevent"]),class:"sheet-form"},[e("div",ce,[s[19]||(s[19]=e("h3",null,"Informations g√©n√©rales",-1)),e("div",ve,[e("div",ue,[s[12]||(s[12]=e("label",{for:"titre",class:"required"},"Titre de la fiche",-1)),S(e("input",{id:"titre","onUpdate:modelValue":s[1]||(s[1]=i=>n.titre=i),type:"text",placeholder:"Ex: Les d√©riv√©es - R√©sum√©",required:"",class:"form-input"},null,512),[[z,n.titre]])])]),e("div",pe,[e("div",me,[s[14]||(s[14]=e("label",{for:"notion",class:"required"},"Notion (h√©rite du contexte via Th√®me)",-1)),S(e("select",{id:"notion","onUpdate:modelValue":s[2]||(s[2]=i=>n.notion=i),required:"",class:"form-select",onChange:v},[s[13]||(s[13]=e("option",{value:""},"Choisir une notion",-1)),(l(!0),r(D,null,N(c.notions,i=>(l(),r("option",{key:i.id,value:i.id},m(k(i)),9,he))),128))],544),[[I,n.notion]])]),e("div",fe,[s[16]||(s[16]=e("label",{for:"difficulty"},"Difficult√©",-1)),S(e("select",{id:"difficulty","onUpdate:modelValue":s[3]||(s[3]=i=>n.difficulty=i),class:"form-select"},s[15]||(s[15]=[e("option",{value:"easy"},"Facile",-1),e("option",{value:"medium"},"Moyen",-1),e("option",{value:"hard"},"Difficile",-1)]),512),[[I,n.difficulty]])])]),e("div",ge,[e("div",ye,[s[17]||(s[17]=e("label",{for:"ordre"},"Ordre d'affichage",-1)),S(e("input",{id:"ordre","onUpdate:modelValue":s[4]||(s[4]=i=>n.ordre=i),type:"number",min:"0",class:"form-input"},null,512),[[z,n.ordre,void 0,{number:!0}]])]),e("div",be,[s[18]||(s[18]=e("label",{for:"reading_time"},"Temps de lecture (min)",-1)),S(e("input",{id:"reading_time","onUpdate:modelValue":s[5]||(s[5]=i=>n.reading_time_minutes=i),type:"number",min:"1",max:"60",class:"form-input"},null,512),[[z,n.reading_time_minutes,void 0,{number:!0}]])])])]),e("div",$e,[s[21]||(s[21]=e("h3",null,"Contenu de la fiche",-1)),e("div",xe,[e("div",we,[e("button",{type:"button",class:F(["tab-btn",{active:h.value==="editor"}]),onClick:s[6]||(s[6]=i=>h.value="editor")}," ‚úèÔ∏è √âditeur ",2),e("button",{type:"button",class:F(["tab-btn",{active:h.value==="preview"}]),onClick:s[7]||(s[7]=i=>h.value="preview")}," üëÅÔ∏è Aper√ßu ",2)]),e("div",ke,[h.value==="editor"?(l(),r("div",_e,[e("div",Ce,[s[20]||(s[20]=K(`<label for="summary" data-v-47480cfd>Contenu principal (Markdown + LaTeX)</label><div class="editor-help" data-v-47480cfd><div class="help-header" data-v-47480cfd><h4 class="help-title" data-v-47480cfd><span class="help-icon" data-v-47480cfd>üìù</span> Guide de cr√©ation de fiches de synth√®se </h4><p class="help-subtitle" data-v-47480cfd>Cr√©ez des fiches claires et structur√©es pour optimiser l&#39;apprentissage</p></div><div class="help-content" data-v-47480cfd><div class="help-section" data-v-47480cfd><div class="section-header" data-v-47480cfd><h5 class="section-title" data-v-47480cfd><span class="section-icon" data-v-47480cfd>üéØ</span> Structure recommand√©e </h5></div><div class="structure-example" data-v-47480cfd><div class="code-header" data-v-47480cfd><span class="code-label" data-v-47480cfd>Mod√®le de fiche</span></div><pre class="code-block" data-v-47480cfd><code data-v-47480cfd># Titre principal de la notion

## D√©finition
D√©finition claire et pr√©cise du concept

## Propri√©t√©s importantes
‚Ä¢ Propri√©t√© 1 : description
‚Ä¢ Propri√©t√© 2 : description
‚Üí Propri√©t√© 3 : description

## Formules cl√©s
$$f(x) = ax^2 + bx + c$$
$$x = \\frac{-b \\pm \\sqrt{b^2 - 4ac}}{2a}$$

## Exemples d&#39;application
Exemple: Calcul de la d√©riv√©e de $f(x) = x^2 + 3x + 1$
Solution: $f&#39;(x) = 2x + 3$

## Points √† retenir
‚ö†Ô∏è Attention aux erreurs courantes
üí° Astuce pour m√©moriser</code></pre></div></div><div class="help-section" data-v-47480cfd><div class="section-header" data-v-47480cfd><h5 class="section-title" data-v-47480cfd><span class="section-icon" data-v-47480cfd>üîß</span> Outils de formatage </h5></div><div class="formatting-tools" data-v-47480cfd><div class="tool-category" data-v-47480cfd><h6 class="category-title" data-v-47480cfd>Titres</h6><div class="tool-grid" data-v-47480cfd><div class="tool-item" data-v-47480cfd><code class="tool-code" data-v-47480cfd># Titre principal</code><span class="tool-desc" data-v-47480cfd>Titre de niveau 1</span></div><div class="tool-item" data-v-47480cfd><code class="tool-code" data-v-47480cfd>## Sous-titre</code><span class="tool-desc" data-v-47480cfd>Titre de niveau 2</span></div><div class="tool-item" data-v-47480cfd><code class="tool-code" data-v-47480cfd>### Section</code><span class="tool-desc" data-v-47480cfd>Titre de niveau 3</span></div></div></div><div class="tool-category" data-v-47480cfd><h6 class="category-title" data-v-47480cfd>Texte</h6><div class="tool-grid" data-v-47480cfd><div class="tool-item" data-v-47480cfd><code class="tool-code" data-v-47480cfd>**gras**</code><span class="tool-desc" data-v-47480cfd>Texte en gras</span></div><div class="tool-item" data-v-47480cfd><code class="tool-code" data-v-47480cfd>*italique*</code><span class="tool-desc" data-v-47480cfd>Texte en italique</span></div></div></div><div class="tool-category" data-v-47480cfd><h6 class="category-title" data-v-47480cfd>Listes</h6><div class="tool-grid" data-v-47480cfd><div class="tool-item" data-v-47480cfd><code class="tool-code" data-v-47480cfd>‚Ä¢ Point important</code><span class="tool-desc" data-v-47480cfd>Liste √† puces</span></div><div class="tool-item" data-v-47480cfd><code class="tool-code" data-v-47480cfd>‚Üí Information cl√©</code><span class="tool-desc" data-v-47480cfd>Liste avec fl√®che</span></div></div></div><div class="tool-category" data-v-47480cfd><h6 class="category-title" data-v-47480cfd>Mise en forme</h6><div class="tool-grid" data-v-47480cfd><div class="tool-item" data-v-47480cfd><code class="tool-code" data-v-47480cfd>D√©finition: texte</code><span class="tool-desc" data-v-47480cfd>D√©finition</span></div><div class="tool-item" data-v-47480cfd><code class="tool-code" data-v-47480cfd>Th√©or√®me: √©nonc√©</code><span class="tool-desc" data-v-47480cfd>Th√©or√®me</span></div><div class="tool-item" data-v-47480cfd><code class="tool-code" data-v-47480cfd>Propri√©t√©: description</code><span class="tool-desc" data-v-47480cfd>Propri√©t√©</span></div><div class="tool-item" data-v-47480cfd><code class="tool-code" data-v-47480cfd>Exemple: cas concret</code><span class="tool-desc" data-v-47480cfd>Exemple</span></div></div></div><div class="tool-category" data-v-47480cfd><h6 class="category-title" data-v-47480cfd>Alertes</h6><div class="tool-grid" data-v-47480cfd><div class="tool-item" data-v-47480cfd><code class="tool-code" data-v-47480cfd>‚ö†Ô∏è Attention</code><span class="tool-desc" data-v-47480cfd>Avertissement</span></div><div class="tool-item" data-v-47480cfd><code class="tool-code" data-v-47480cfd>üí° Conseil</code><span class="tool-desc" data-v-47480cfd>Conseil</span></div></div></div></div></div><div class="help-section" data-v-47480cfd><div class="section-header" data-v-47480cfd><h5 class="section-title" data-v-47480cfd><span class="section-icon" data-v-47480cfd>üìê</span> Formules math√©matiques (LaTeX) </h5></div><div class="math-examples" data-v-47480cfd><div class="math-category" data-v-47480cfd><h6 class="category-title" data-v-47480cfd>Formules inline</h6><div class="math-grid" data-v-47480cfd><div class="math-item" data-v-47480cfd><code class="math-code" data-v-47480cfd>$x^2 + y^2 = r^2$</code><span class="math-desc" data-v-47480cfd>√âquation du cercle</span></div><div class="math-item" data-v-47480cfd><code class="math-code" data-v-47480cfd>$\\frac{a}{b}$</code><span class="math-desc" data-v-47480cfd>Fraction</span></div><div class="math-item" data-v-47480cfd><code class="math-code" data-v-47480cfd>$\\sqrt{x}$</code><span class="math-desc" data-v-47480cfd>Racine carr√©e</span></div></div></div><div class="math-category" data-v-47480cfd><h6 class="category-title" data-v-47480cfd>Formules en bloc</h6><div class="math-grid" data-v-47480cfd><div class="math-item" data-v-47480cfd><code class="math-code" data-v-47480cfd>$$\\int_{a}^{b} f(x) dx$$</code><span class="math-desc" data-v-47480cfd>Int√©grale</span></div><div class="math-item" data-v-47480cfd><code class="math-code" data-v-47480cfd>$$\\lim_{x \\to 0} \\frac{\\sin(x)}{x} = 1$$</code><span class="math-desc" data-v-47480cfd>Limite</span></div></div></div><div class="math-category" data-v-47480cfd><h6 class="category-title" data-v-47480cfd>Symboles courants</h6><div class="math-grid" data-v-47480cfd><div class="math-item" data-v-47480cfd><code class="math-code" data-v-47480cfd>$\\alpha, \\beta, \\gamma$</code><span class="math-desc" data-v-47480cfd>Lettres grecques</span></div><div class="math-item" data-v-47480cfd><code class="math-code" data-v-47480cfd>$\\sum_{i=1}^{n} x_i$</code><span class="math-desc" data-v-47480cfd>Somme</span></div><div class="math-item" data-v-47480cfd><code class="math-code" data-v-47480cfd>$\\prod_{i=1}^{n} x_i$</code><span class="math-desc" data-v-47480cfd>Produit</span></div></div></div></div></div><div class="help-section" data-v-47480cfd><div class="section-header" data-v-47480cfd><h5 class="section-title" data-v-47480cfd><span class="section-icon" data-v-47480cfd>üí°</span> Conseils pour une bonne synth√®se </h5></div><div class="tips-container" data-v-47480cfd><div class="tips-grid" data-v-47480cfd><div class="tip-item" data-v-47480cfd><div class="tip-icon" data-v-47480cfd>üéØ</div><div class="tip-content" data-v-47480cfd><h6 class="tip-title" data-v-47480cfd>Clart√©</h6><p class="tip-desc" data-v-47480cfd>Utilisez des phrases courtes et directes</p></div></div><div class="tip-item" data-v-47480cfd><div class="tip-icon" data-v-47480cfd>üìã</div><div class="tip-content" data-v-47480cfd><h6 class="tip-title" data-v-47480cfd>Structure</h6><p class="tip-desc" data-v-47480cfd>Organisez l&#39;information de mani√®re logique</p></div></div><div class="tip-item" data-v-47480cfd><div class="tip-icon" data-v-47480cfd>üîç</div><div class="tip-content" data-v-47480cfd><h6 class="tip-title" data-v-47480cfd>Exemples</h6><p class="tip-desc" data-v-47480cfd>Donnez toujours des exemples concrets</p></div></div><div class="tip-item" data-v-47480cfd><div class="tip-icon" data-v-47480cfd>üìê</div><div class="tip-content" data-v-47480cfd><h6 class="tip-title" data-v-47480cfd>Formules</h6><p class="tip-desc" data-v-47480cfd>Expliquez le sens des formules, pas juste leur √©criture</p></div></div><div class="tip-item" data-v-47480cfd><div class="tip-icon" data-v-47480cfd>üîó</div><div class="tip-content" data-v-47480cfd><h6 class="tip-title" data-v-47480cfd>Connexions</h6><p class="tip-desc" data-v-47480cfd>Montrez les liens avec d&#39;autres notions</p></div></div><div class="tip-item" data-v-47480cfd><div class="tip-icon" data-v-47480cfd>‚ö°</div><div class="tip-content" data-v-47480cfd><h6 class="tip-title" data-v-47480cfd>M√©thodes</h6><p class="tip-desc" data-v-47480cfd>Incluez des √©tapes de r√©solution</p></div></div></div></div></div></div></div>`,2)),S(e("textarea",{id:"summary",ref_key:"summaryTextarea",ref:M,"onUpdate:modelValue":s[8]||(s[8]=i=>n.summary=i),rows:"15",placeholder:"R√©digez le contenu de votre fiche en Markdown...",class:"form-textarea markdown-editor",onInput:a},null,544),[[z,n.summary]])])])):x("",!0),h.value==="preview"?(l(),r("div",Me,[e("div",{class:"preview-container",innerHTML:P(t.renderedMarkdown),onVnodeMounted:s[9]||(s[9]=(...i)=>t.renderMathJax&&t.renderMathJax(...i))},null,8,Te)])):x("",!0)])])])],32)]),e("div",Se,[e("button",{type:"button",class:"btn btn-outline",onClick:s[10]||(s[10]=i=>t.$emit("close"))}," Annuler "),e("button",{type:"button",class:"btn btn-secondary",onClick:T}," üëÅÔ∏è Aper√ßu complet "),e("button",{type:"button",class:"btn btn-primary",onClick:q,disabled:!n.titre||!n.notion||$.value},m($.value?"Sauvegarde...":p.isEdit?"Mettre √† jour":"Cr√©er"),9,Ee)])])]))}},Pe=O(Le,[["__scopeId","data-v-47480cfd"]]),qe={class:"preview-header"},De={class:"header-content"},Ne={class:"preview-meta"},ze={class:"reading-time"},Fe={class:"preview-body"},Ae={class:"sheet-preview"},He={class:"sheet-header"},Be={class:"sheet-title"},Je={key:0,class:"sheet-context"},Ue={class:"context-badges"},Ie={class:"context-badge notion"},Ve={key:0,class:"context-badge theme"},Oe={key:1,class:"context-badge matiere"},Re={class:"sheet-content"},je={key:0,class:"main-content"},Xe=["innerHTML"],Ge={key:1,class:"empty-content"},Ke={key:0,class:"sheet-section key-points"},Qe={class:"key-points-list"},We=["innerHTML"],Ye={key:1,class:"sheet-section formulas"},Ze={class:"formulas-list"},et=["innerHTML"],tt={key:2,class:"sheet-section examples"},st={class:"examples-list"},at=["innerHTML"],ot={class:"preview-footer"},it={class:"content-stats"},nt={class:"stat-chip"},dt={class:"stat-chip"},lt={class:"stat-chip"},rt={__name:"PreviewModal",props:{sheet:Object},emits:["close"],setup(p,{emit:C}){const c=p,w=C,$=L(()=>{if(!c.sheet?.summary)return"";try{return q(c.sheet.summary)}catch{return'<p class="error">Erreur dans le rendu du contenu</p>'}}),h=L(()=>c.sheet?.key_points&&c.sheet.key_points.length>0),M=L(()=>c.sheet?.formulas&&c.sheet.formulas.length>0),n=L(()=>c.sheet?.examples&&c.sheet.examples.length>0),k=L(()=>c.sheet?.summary?c.sheet.summary.split(/\s+/).filter(v=>v.length>0).length:0),_=L(()=>{const a=Math.ceil(k.value/200);return Math.max(1,a)}),f=v=>({easy:"Facile",medium:"Moyen",hard:"Difficile"})[v]||v,P=v=>{v.target===v.currentTarget&&w("close")};function y(v){if(!v)return 0;const a=[/\$[^$]+\$/g,/\$\$[^$]+\$\$/g];let t=0;return a.forEach(s=>{const i=v.match(s);i&&(t+=i.length)}),t}function q(v){return v?v.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/\\/g,"\\").trim():""}function T(v){return v?v.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/<p[^>]*style="[^"]*color:blue[^"]*"[^>]*>([^<]+)<\/p>/g,'<h2 class="section-title blue">$1</h2>').replace(/<p[^>]*style="[^"]*color:darkorange[^"]*"[^>]*>([^<]+)<\/p>/g,'<h3 class="subsection-title orange">$1</h3>').replace(/<p[^>]*style="[^"]*color:red[^"]*"[^>]*>([^<]+)<\/p>/g,'<div class="alert-box warning">$1</div>').replace(/<p[^>]*style="[^"]*color:green[^"]*"[^>]*>([^<]+)<\/p>/g,'<div class="alert-box success">$1</div>').replace(/<p[^>]*style="[^"]*color:purple[^"]*"[^>]*>([^<]+)<\/p>/g,'<h4 class="example-title">$1</h4>').replace(/^###\s+(.+)$/gm,'<h3 class="subsection-title">$1</h3>').replace(/^##\s+(.+)$/gm,'<h2 class="section-title">$1</h2>').replace(/^#\s+(.+)$/gm,'<h1 class="main-title">$1</h1>').replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>").replace(/\*([^*]+)\*/g,"<em>$1</em>").replace(/\n\n/g,"<br/>").replace(/\n/g,"<br/>").trim():""}function E(){Q(()=>{if(window.MathJax&&window.MathJax.typesetPromise)window.MathJax.typesetPromise();else{let a=0;const t=()=>{window.MathJax&&window.MathJax.typesetPromise?window.MathJax.typesetPromise():a++<10&&setTimeout(t,150)};setTimeout(t,100)}})}return J(()=>c.sheet,()=>{c.sheet&&setTimeout(E,100)},{deep:!0}),V(()=>{c.sheet&&setTimeout(E,100)}),(v,a)=>(l(),r("div",{class:"preview-overlay",onClick:P},[e("div",{class:"preview-container",onClick:a[2]||(a[2]=U(()=>{},["stop"]))},[e("div",qe,[e("div",De,[a[4]||(a[4]=e("h2",{class:"preview-title"},[e("span",{class:"title-icon"},"üëÅÔ∏è"),g(" Aper√ßu de la fiche ")],-1)),e("div",Ne,[e("span",{class:F(["difficulty-badge",p.sheet?.difficulty])},m(f(p.sheet?.difficulty)),3),e("span",ze,[a[3]||(a[3]=e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("polyline",{points:"12,6 12,12 16,14"})],-1)),g(" "+m(p.sheet?.reading_time_minutes||5)+" min ",1)])])]),e("button",{class:"close-button",onClick:a[0]||(a[0]=t=>v.$emit("close"))},a[5]||(a[5]=[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)]))]),e("div",Fe,[e("div",Ae,[e("div",He,[e("h1",Be,m(p.sheet?.titre||"Titre de la fiche"),1),p.sheet?.notion_info?(l(),r("div",Je,[e("div",Ue,[e("span",Ie,[a[6]||(a[6]=e("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e("polyline",{points:"14,2 14,8 20,8"})],-1)),g(" "+m(p.sheet.notion_info.titre),1)]),p.sheet.notion_info.theme?(l(),r("span",Ve,[a[7]||(a[7]=e("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("circle",{cx:"12",cy:"12",r:"3"}),e("path",{d:"M12 1v6m0 6v6m11-7h-6m-6 0H1"})],-1)),g(" "+m(p.sheet.notion_info.theme.titre),1)])):x("",!0),p.sheet.notion_info.theme?.matiere?(l(),r("span",Oe,[a[8]||(a[8]=e("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})],-1)),g(" "+m(p.sheet.notion_info.theme.matiere.titre),1)])):x("",!0)])])):x("",!0)]),e("div",Re,[p.sheet?.summary?(l(),r("div",je,[e("div",{class:"content-html",innerHTML:T($.value)},null,8,Xe)])):(l(),r("div",Ge,a[9]||(a[9]=[e("div",{class:"empty-icon"},"üìÑ",-1),e("h3",null,"Aucun contenu √† pr√©visualiser",-1),e("p",null,"Ajoutez du contenu pour voir l'aper√ßu",-1)])))]),h.value?(l(),r("div",Ke,[a[10]||(a[10]=e("h3",{class:"section-title"},[e("span",{class:"section-icon"},"üéØ"),g(" Points cl√©s √† retenir ")],-1)),e("ul",Qe,[(l(!0),r(D,null,N(p.sheet.key_points,t=>(l(),r("li",{key:t,innerHTML:T(t)},null,8,We))),128))])])):x("",!0),M.value?(l(),r("div",Ye,[a[11]||(a[11]=e("h3",{class:"section-title"},[e("span",{class:"section-icon"},"üìê"),g(" Formules importantes ")],-1)),e("div",Ze,[(l(!0),r(D,null,N(p.sheet.formulas,t=>(l(),r("div",{key:t,class:"formula-item"},[e("div",{class:"formula-content",innerHTML:T(t)},null,8,et)]))),128))])])):x("",!0),n.value?(l(),r("div",tt,[a[12]||(a[12]=e("h3",{class:"section-title"},[e("span",{class:"section-icon"},"üí°"),g(" Exemples et applications ")],-1)),e("div",st,[(l(!0),r(D,null,N(p.sheet.examples,t=>(l(),r("div",{key:t,class:"example-item"},[e("div",{class:"example-content",innerHTML:T(t)},null,8,at)]))),128))])])):x("",!0)])]),e("div",ot,[e("div",it,[e("span",nt,[a[13]||(a[13]=e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e("polyline",{points:"14,2 14,8 20,8"})],-1)),g(" "+m(k.value)+" mots ",1)]),e("span",dt,[a[14]||(a[14]=e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("circle",{cx:"12",cy:"12",r:"3"}),e("path",{d:"M12 1v6m0 6v6m11-7h-6m-6 0H1"})],-1)),g(" "+m(y(p.sheet?.summary))+" formules ",1)]),e("span",lt,[a[15]||(a[15]=e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("polyline",{points:"12,6 12,12 16,14"})],-1)),g(" "+m(_.value)+" min ",1)])]),e("button",{class:"close-action-btn",onClick:a[1]||(a[1]=t=>v.$emit("close"))},a[16]||(a[16]=[e("span",null,"Fermer",-1),e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)]))])])]))}},ct=O(rt,[["__scopeId","data-v-befaa155"]]),vt={class:"admin-sheets"},ut={class:"page-header"},pt={class:"header-actions"},mt=["disabled"],ht={class:"filters-section"},ft={class:"filters-row"},gt={class:"filter-group"},yt=["value"],bt={class:"filter-group"},$t={class:"sheets-table-container"},xt={key:0,class:"loading-state"},wt={key:1,class:"empty-state"},kt={key:2,class:"sheets-table"},_t={class:"title-col"},Ct={class:"matiere-badge"},Mt={class:"actions-col"},Tt={class:"action-buttons"},St=["onClick"],Et=["onClick"],Lt=["onClick"],Pt=["onClick"],qt={__name:"AdminSheets",setup(p){const C=b(!1),c=b([]),w=b([]),$=b([]),h=b(!1),M=b(!1),n=b(null),k=b(!1),_=b(null),f=G({matiere:"",search:""}),P=de(()=>{y()},300),y=async()=>{C.value=!0;try{const d={};f.matiere&&(d.matiere=f.matiere),f.search&&(d.search=f.search);const o=await ee(d);c.value=o.data.results||o.data}catch{}finally{C.value=!1}},q=async()=>{try{const d=await ne();w.value=d||[]}catch{w.value=[]}},T=async()=>{try{const d=await ie();$.value=d||[]}catch{$.value=[]}},E=()=>{n.value=null,k.value=!1,h.value=!0},v=d=>{n.value={...d},k.value=!0,h.value=!0},a=()=>{h.value=!1,n.value=null},t=async d=>{try{k.value?await ae(n.value.id,d):await oe(d),a(),y()}catch(o){throw o}},s=async d=>{if(confirm(`√ätes-vous s√ªr de vouloir supprimer la fiche "${d.titre}" ?`))try{await se(d.id),y()}catch{}},i=async d=>{try{await te(d.id),y()}catch{}},A=d=>{_.value=d,M.value=!0},H=()=>{M.value=!1,_.value=null},R=d=>{_.value=d,M.value=!0},W=()=>{f.matiere="",f.search="",y()},Y=d=>({easy:"Facile",medium:"Moyen",hard:"Difficile"})[d]||d,Z=d=>new Date(d).toLocaleDateString("fr-FR");return V(async()=>{await Promise.all([y(),q(),T()])}),(d,o)=>(l(),r("div",vt,[o[13]||(o[13]=K(`<div class="format-help" data-v-0447207b><h3 data-v-0447207b>üìã Guide de cr√©ation des fiches de synth√®se</h3><div class="format-example" data-v-0447207b><pre data-v-0447207b><code data-v-0447207b>Titre: [Titre de la fiche]
Notion: [ID de la notion]
Difficult√©: [easy/medium/hard] (optionnel, d√©faut: medium)
Temps de lecture: [nombre] (en minutes, optionnel, d√©faut: 5)
Statut: [actif/inactif] (optionnel, d√©faut: actif)
Points cl√©s: [point1,point2,point3] (optionnel, s√©par√©s par des virgules)

=== CONTENU ===

[Contenu principal de la fiche avec HTML/LaTeX support√©]

=== EXEMPLES ===

[Exemples pratiques et exercices d&#39;application]

=== CONSEILS ===

[Conseils m√©thodologiques et astuces]</code></pre></div><div class="format-notes" data-v-0447207b><p data-v-0447207b><strong data-v-0447207b>Notes importantes :</strong></p><ul data-v-0447207b><li data-v-0447207b><strong data-v-0447207b>‚ö†Ô∏è Champs obligatoires :</strong> <code data-v-0447207b>Titre</code> et contenu principal</li><li data-v-0447207b><strong data-v-0447207b>Notion :</strong> Utilisez l&#39;ID de la notion (trouvable dans la liste des notions)</li><li data-v-0447207b><strong data-v-0447207b>Difficult√© :</strong> <code data-v-0447207b>easy</code>, <code data-v-0447207b>medium</code> ou <code data-v-0447207b>hard</code> uniquement</li><li data-v-0447207b><strong data-v-0447207b>Temps de lecture :</strong> Estimation en minutes (aide les √©tudiants √† planifier)</li><li data-v-0447207b><strong data-v-0447207b>Points cl√©s :</strong> R√©sum√© des concepts essentiels, s√©par√©s par des virgules</li><li data-v-0447207b><strong data-v-0447207b>Sections :</strong> <code data-v-0447207b>=== CONTENU ===</code>, <code data-v-0447207b>=== EXEMPLES ===</code>, <code data-v-0447207b>=== CONSEILS ===</code></li><li data-v-0447207b><strong data-v-0447207b>Contenu :</strong> Supporte HTML et LaTeX (MathJax)</li><li data-v-0447207b><strong data-v-0447207b>MathJax :</strong> <code data-v-0447207b>$formule$</code> (inline) et <code data-v-0447207b>$$formule$$</code> (bloc)</li><li data-v-0447207b><strong data-v-0447207b>HTML :</strong> <code data-v-0447207b>&lt;strong&gt;</code>, <code data-v-0447207b>&lt;em&gt;</code>, <code data-v-0447207b>&lt;ul&gt;</code>, <code data-v-0447207b>&lt;ol&gt;</code>, etc.</li><li data-v-0447207b><strong data-v-0447207b>Listes :</strong> Utilisez des puces ‚Ä¢ ou des num√©ros pour structurer</li><li data-v-0447207b><strong data-v-0447207b>Mise en forme :</strong> Utilisez des titres <code data-v-0447207b>&lt;h3&gt;</code>, <code data-v-0447207b>&lt;h4&gt;</code> pour organiser</li></ul></div><div class="working-example" data-v-0447207b><h4 data-v-0447207b>üéØ Exemple concret :</h4><div class="example-code" data-v-0447207b><pre data-v-0447207b><code data-v-0447207b>Titre: Th√©or√®me de Pythagore
Notion: 15
Difficult√©: easy
Temps de lecture: 8
Points cl√©s: triangle rectangle,hypot√©nuse,cath√®tes,relation m√©trique

=== CONTENU ===

Le &lt;strong&gt;th√©or√®me de Pythagore&lt;/strong&gt; est une relation fondamentale dans les triangles rectangles.

&lt;h3&gt;√ânonc√©&lt;/h3&gt;
Dans un triangle rectangle, le carr√© de l&#39;hypot√©nuse est √©gal √† la somme des carr√©s des cath√®tes :

$$a^2 + b^2 = c^2$$

o√π :
‚Ä¢ $a$ et $b$ sont les cath√®tes
‚Ä¢ $c$ est l&#39;hypot√©nuse

=== EXEMPLES ===

&lt;h4&gt;Exemple 1 : Calcul de l&#39;hypot√©nuse&lt;/h4&gt;
Triangle avec cath√®tes de 3 cm et 4 cm :
$$c = \\sqrt{3^2 + 4^2} = \\sqrt{9 + 16} = \\sqrt{25} = 5 \\text{ cm}$$

&lt;h4&gt;Exemple 2 : Calcul d&#39;une cath√®te&lt;/h4&gt;
Triangle avec hypot√©nuse de 10 cm et une cath√®te de 6 cm :
$$b = \\sqrt{10^2 - 6^2} = \\sqrt{100 - 36} = \\sqrt{64} = 8 \\text{ cm}$$

=== CONSEILS ===

‚Ä¢ &lt;strong&gt;V√©rification :&lt;/strong&gt; Toujours v√©rifier que $a^2 + b^2 = c^2$
‚Ä¢ &lt;strong&gt;Unit√©s :&lt;/strong&gt; Attention aux unit√©s dans les calculs
‚Ä¢ &lt;strong&gt;Application :&lt;/strong&gt; Utile en g√©om√©trie, trigonom√©trie et physique</code></pre></div><p class="example-note" data-v-0447207b><strong data-v-0447207b>R√©sultat :</strong> Cette fiche sera automatiquement format√©e avec les sections appropri√©es, les formules math√©matiques rendues et les points cl√©s extraits. </p></div></div>`,1)),e("div",ut,[o[4]||(o[4]=e("div",{class:"header-left"},[e("h1",{class:"page-title"},[e("span",{class:"icon"},"üìã"),g(" Fiches de synth√®se ")]),e("p",{class:"page-description"},"Cr√©ez et g√©rez les fiches de r√©vision pour vos √©tudiants")],-1)),e("div",pt,[e("button",{class:"btn btn-primary",onClick:E,disabled:C.value},o[3]||(o[3]=[e("span",{class:"icon"},"‚ûï",-1),g(" Nouvelle fiche ")]),8,mt)])]),e("div",ht,[e("div",ft,[e("div",gt,[o[6]||(o[6]=e("label",null,"Mati√®re :",-1)),S(e("select",{"onUpdate:modelValue":o[0]||(o[0]=u=>f.matiere=u),onChange:y},[o[5]||(o[5]=e("option",{value:""},"Toutes les mati√®res",-1)),(l(!0),r(D,null,N(w.value,u=>(l(),r("option",{key:u.id,value:u.id},m(u.nom),9,yt))),128))],544),[[I,f.matiere]])]),e("div",bt,[o[7]||(o[7]=e("label",null,"Recherche :",-1)),S(e("input",{"onUpdate:modelValue":o[1]||(o[1]=u=>f.search=u),onInput:o[2]||(o[2]=(...u)=>X(P)&&X(P)(...u)),placeholder:"Titre, contenu...",class:"search-input"},null,544),[[z,f.search]])]),e("div",{class:"filter-group"},[e("button",{class:"btn btn-outline",onClick:W}," R√©initialiser ")])])]),e("div",$t,[C.value?(l(),r("div",xt,o[8]||(o[8]=[e("div",{class:"spinner"},null,-1),e("p",null,"Chargement des fiches...",-1)]))):c.value.length===0?(l(),r("div",wt,[o[9]||(o[9]=e("div",{class:"empty-icon"},"üìù",-1)),o[10]||(o[10]=e("h3",null,"Aucune fiche de synth√®se",-1)),o[11]||(o[11]=e("p",null,"Commencez par cr√©er votre premi√®re fiche de r√©vision",-1)),e("button",{class:"btn btn-primary",onClick:E}," Cr√©er une fiche ")])):(l(),r("table",kt,[o[12]||(o[12]=e("thead",null,[e("tr",null,[e("th",null,"Titre"),e("th",null,"Notion"),e("th",null,"Mati√®re"),e("th",null,"Difficult√©"),e("th",null,"Temps de lecture"),e("th",null,"Statut"),e("th",null,"Cr√©√© le"),e("th",{class:"actions-col"},"Actions")])],-1)),e("tbody",null,[(l(!0),r(D,null,N(c.value,u=>(l(),r("tr",{key:u.id,class:"sheet-row"},[e("td",_t,[e("strong",null,m(u.titre),1)]),e("td",null,m(u.notion_nom),1),e("td",null,[e("span",Ct,m(u.matiere_nom),1)]),e("td",null,[e("span",{class:F(["difficulty-badge",u.difficulty])},m(Y(u.difficulty)),3)]),e("td",null,m(u.reading_time_minutes)+" min",1),e("td",null,[e("span",{class:F(["status-badge",{active:u.est_actif}])},m(u.est_actif?"Actif":"Inactif"),3)]),e("td",null,m(Z(u.date_creation)),1),e("td",Mt,[e("div",Tt,[e("button",{class:"btn-icon btn-preview",onClick:B=>A(u),title:"Pr√©visualiser"}," üëÅÔ∏è ",8,St),e("button",{class:"btn-icon btn-edit",onClick:B=>v(u),title:"Modifier"}," ‚úèÔ∏è ",8,Et),e("button",{class:"btn-icon btn-duplicate",onClick:B=>i(u),title:"Dupliquer"}," üìã ",8,Lt),e("button",{class:"btn-icon btn-delete",onClick:B=>s(u),title:"Supprimer"}," üóëÔ∏è ",8,Pt)])])]))),128))])]))]),h.value?(l(),j(Pe,{key:0,sheet:n.value,"is-edit":k.value,notions:$.value,onClose:a,onSave:t,onPreview:R},null,8,["sheet","is-edit","notions"])):x("",!0),M.value?(l(),j(ct,{key:1,sheet:_.value,onClose:H},null,8,["sheet"])):x("",!0)]))}},Ut=O(qt,[["__scopeId","data-v-0447207b"]]);export{Ut as default};
