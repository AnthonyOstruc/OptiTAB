import{b as r,t as s}from"./index-DCsGFNRY.js";const a=(e={})=>{const t={};return e.matiere!=null&&(t.matiere=e.matiere),e.contexte!=null&&(t.contexte=e.contexte),e.nom!=null&&(t.titre=e.nom),e.titre!=null&&(t.titre=e.titre),e.description!=null&&(t.description=e.description),e.couleur!=null&&(t.couleur=e.couleur),e.ordre!=null&&(t.ordre=e.ordre),Array.isArray(e.niveaux)&&(t.niveaux=e.niveaux),t},l=(e={})=>r.get("/api/themes/",{params:e}),p=async(e={})=>{const{signal:t,...i}=e||{};if(s.isAuthenticated())try{return await s.cachedGet("/api/themes/notions-pour-utilisateur/",{params:i,ttl:12e4,signal:t})}catch(o){if(o?.response?.status!==401)throw o}const n=i?.matiere,[u,c]=await Promise.all([s.cachedGet("/api/themes/",{params:{matiere:n},ttl:12e4,signal:t}),s.cachedGet("/api/notions/",{params:{matiere:n},ttl:18e4,signal:t})]);return{data:{themes:u?.data||[],notions:c?.data||[]}}},f=e=>r.post("/api/themes/",a(e)),d=(e,t)=>r.patch(`/api/themes/${e}/`,a(t)),g=e=>r.delete(`/api/themes/${e}/`),x=async()=>{try{return(await r.get("/api/themes/pour-utilisateur/")).data}catch(e){throw e}};export{p as a,x as b,f as c,g as d,l as g,d as u};
