import{_ as x,G as b,m as T,M as B,h as i,p as D,f as k,w as g,C as M,o as n,a as e,i as f,t as w,n as y,c as a,b as j,aq as S,F as E,e as I}from"./index-C20tTf3S.js";import{D as R}from"./DashboardLayout-DmmXvv68.js";import{f as $,g as z}from"./curriculum-C6dJwtfd.js";import{N as V}from"./NotionCard-CDHvqGL7.js";import{B as Z}from"./BackButton-B9UoO6zr.js";import"./menuItems-zei-A9he.js";import"./matieres-Ce1WeeoH.js";/* empty css                                                                   */const A={class:"theme-notions-section"},F={class:"theme-notions-header"},G={class:"theme-notions-header-content"},q={class:"theme-notions-title"},H={class:"theme-notions-content"},J={key:0,class:"theme-notions-loader"},K={key:1,class:"theme-notions-error"},O={key:2,class:"notions-grid"},P={key:3,class:"notions-empty"},Q={__name:"ThemeNotions",setup(U){const _=B(),d=M(),C=b(),m=T(()=>_.params.themeId),l=i([]),h=i(""),p=i("#3b82f6"),u=i(!0),r=i("");function L(){const t=C.activeMatiereId;t?d.push({name:"Themes",params:{matiereId:t}}):d.push({name:"Dashboard"})}const v=async t=>{if(t){u.value=!0,r.value="";try{console.log("[ThemeNotions] Chargement des notions pour le thème:",t);const o=await $(t);h.value=o.nom,p.value=o.couleur||"#3b82f6";const s=await z();l.value=s.filter(c=>c.theme===parseInt(t)),console.log("[ThemeNotions] Notions chargées:",l.value.length)}catch(o){console.error("[ThemeNotions] Erreur lors du chargement:",o),r.value=o.response?.data?.detail||"Erreur lors du chargement des notions"}finally{u.value=!1}}};function N(t){d.push({name:"Chapitres",params:{notionId:t}})}return D(()=>{const t=m.value;t&&v(t)}),(t,o)=>(n(),k(R,null,{default:g(()=>[e("section",A,[f(Z,{text:"Retour aux thèmes",customAction:L,position:"top-left"}),e("div",F,[e("div",G,[e("h1",q,w(h.value),1),o[1]||(o[1]=e("p",{class:"theme-notions-subtitle"},"Sélectionnez une notion pour accéder aux chapitres",-1))]),e("div",{class:"theme-notions-header-icon",style:y({backgroundColor:p.value})},o[2]||(o[2]=[e("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M12 2L2 7L12 12L22 7L12 2Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),e("path",{d:"M2 17L12 22L22 17",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),e("path",{d:"M2 12L12 17L22 12",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]),4)]),e("div",H,[u.value?(n(),a("div",J,o[3]||(o[3]=[e("div",{class:"loader-spinner"},null,-1),e("p",null,"Chargement des notions...",-1)]))):r.value?(n(),a("div",K,[o[4]||(o[4]=e("div",{class:"error-icon"},[e("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M12 2L2 7L12 12L22 7L12 2Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),o[5]||(o[5]=e("h3",null,"Erreur de chargement",-1)),e("p",null,w(r.value),1),e("button",{class:"retry-button",onClick:o[0]||(o[0]=s=>v(m.value))}," Réessayer ")])):(n(),a("div",O,[f(S,{name:"notion-card",tag:"div",class:"notions-grid-inner"},{default:g(()=>[(n(!0),a(E,null,I(l.value,(s,c)=>(n(),k(V,{key:s.id,title:s.nom,description:s.description||`Explorez les chapitres de ${s.nom}`,onClick:W=>N(s.id),style:y({animationDelay:`${c*.1}s`})},null,8,["title","description","onClick","style"]))),128))]),_:1})])),!u.value&&!r.value&&l.value.length===0?(n(),a("div",P,o[6]||(o[6]=[e("div",{class:"empty-icon"},[e("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M12 2L2 7L12 12L22 7L12 2Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1),e("h3",null,"Aucune notion disponible",-1),e("p",null,"Il n'y a pas encore de notions pour ce thème.",-1)]))):j("",!0)])])]),_:1}))}},ie=x(Q,[["__scopeId","data-v-ea68ddcd"]]);export{ie as default};
